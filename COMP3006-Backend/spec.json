{"openapi":"3.0.0","info":{"title":"COMP3006-Backend","description":"Express API for COMP3006","version":"1.0.0"},"servers":[{"url":"http://localhost:3000/api/v1"}],"components":{"schemas":{"user":{"title":"users","properties":{"username":{"type":"string"},"type":{"type":"string"},"addresses":{"type":"array","items":{"type":"object","properties":{"addresslineOne":{"type":"string"},"addresslineTwo":{"type":"string"},"postcode":{"type":"string"},"_id":{"type":"string"}},"required":[]}},"restaurantId":{"type":"string","required":false},"_id":{"type":"string"}}},"address":{"properties":{"addresslineOne":{"type":"string"},"addresslineTwo":{"type":"string"},"postcode":{"type":"string"},"_id":{"type":"string"}}},"restaurant":{"title":"restaurants","properties":{"description":{"type":"string"},"name":{"type":"string"},"restaurantType":{"type":"array","items":{"type":"string"}},"currentMenuId":{"type":"string"},"_id":{"type":"string"}}},"order":{"title":"orders","properties":{"userId":{"type":"string"},"restaurant":{"type":"object","properties":{"description":{"type":"string"},"name":{"type":"string"},"restaurantType":{"type":"array","items":{"type":"string"}},"currentMenuId":{"type":"string"},"_id":{"type":"string"}}},"items":{"type":"array","items":{"type":"object","properties":{"name":{"type":"string"},"itemTypes":{"type":"array","items":{"type":"string"}},"description":{"type":"string"},"price":{"type":"number"},"allegens":{"type":"array","items":{"type":"string"}},"nutritionalInfo":{"type":"object","properties":{"calories":{"type":"number"},"_id":{"type":"string"}}},"extras":{"type":"array","items":{"type":"object","properties":{"required":{"type":"boolean"},"minimumRequired":{"type":"number","required":false},"max":{"type":"number","required":false},"name":{"type":"string"},"extras":{"type":"array","items":{"type":"object","properties":{"name":{"type":"string"},"NutritionalInfo":{"type":"object","properties":{"calories":{"type":"number"},"_id":{"type":"string"}}}},"required":[]}},"_id":{"type":"string"}},"required":[]}},"_id":{"type":"string"}},"required":[]}},"total":{"type":"number"},"active":{"type":"boolean"},"address":{"type":"object","properties":{"addresslineOne":{"type":"string"},"addresslineTwo":{"type":"string"},"postcode":{"type":"string"},"_id":{"type":"string"}}},"stage":{"type":"string"},"_id":{"type":"string"}}},"menu":{"title":"menus","properties":{"restaurantId":{"type":"string"},"name":{"type":"string"},"restaurantName":{"type":"string"},"MenuItems":{"type":"array","items":{"type":"object","properties":{"name":{"type":"string"},"itemTypes":{"type":"array","items":{"type":"string"}},"description":{"type":"string"},"price":{"type":"number"},"allegens":{"type":"array","items":{"type":"string"}},"nutritionalInfo":{"type":"object","properties":{"calories":{"type":"number"},"_id":{"type":"string"}}},"extras":{"type":"array","items":{"type":"object","properties":{"required":{"type":"boolean"},"minimumRequired":{"type":"number","required":false},"max":{"type":"number","required":false},"name":{"type":"string"},"extras":{"type":"array","items":{"type":"object","properties":{"name":{"type":"string"},"NutritionalInfo":{"type":"object","properties":{"calories":{"type":"number"},"_id":{"type":"string"}}}},"required":[]}},"_id":{"type":"string"}},"required":[]}},"_id":{"type":"string"}},"required":[]}},"_id":{"type":"string"}}},"userlogin":{"title":"user_logins","properties":{"username":{"type":"string"},"password":{"type":"string"},"salt":{"type":"string"},"_id":{"type":"string"}}},"createUser":{"properties":{"username":{"type":"string"},"password":{"type":"string"},"addresses":{"type":"array","items":{"type":"object","properties":{"addresslineOne":{"type":"string"},"addresslineTwo":{"type":"string"},"postcode":{"type":"string"},"_id":{"type":"string"}},"required":[]}},"type":{"type":"string"},"restaurantId":{"type":"string","required":false},"_id":{"type":"string"}}},"status":{"properties":{"status":{"type":"string"},"orderId":{"type":"string"},"_id":{"type":"string"}}}}},"paths":{"/menu/{menuId}":{"get":{"description":"Use to get a singular menu by id","parameters":[{"in":"path","name":"menuId"}],"tags":["menu"],"responses":{"200":{"description":"ok","content":{"application/json":{"schema":{"$ref":"#/components/schemas/menu"}}}},"404":{"description":"menu not found"},"500":{"description":"other server error"}}},"put":{"description":"update an existing menu","parameters":[{"in":"path","name":"menuId"}],"tags":["menu"],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/menu"}}}},"responses":{"204":{"description":"menu was successfully updated"},"404":{"description":"menu not found"},"500":{"description":"other server error"}}},"delete":{"description":"delete an existing menu","parameters":[{"in":"path","name":"menuId"}],"tags":["menu"],"responses":{"200":{"description":"menu was successfully deleted"},"404":{"description":"menu not found"},"500":{"description":"other server error"}}}},"/menu/{restaurantId}/current":{"get":{"description":"Use to get a the current menu used by a resturant","parameters":[{"in":"path","name":"restaurantId"}],"tags":["menu"],"responses":{"200":{"description":"ok","content":{"application/json":{"schema":{"$ref":"#/components/schemas/menu"}}}},"404":{"description":"menu not found"},"500":{"description":"other server error"}}}},"/menu/{restaurantId}/all":{"get":{"description":"All menus for a restaurant","parameters":[{"in":"path","name":"restaurantId"}],"tags":["menu"],"responses":{"200":{"description":"ok","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/menu"}}}}},"404":{"description":"menus not found"},"500":{"description":"other server error"}}}},"/menu":{"post":{"description":"add a new menu","tags":["menu"],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/menu"}}}},"responses":{"201":{"description":"created","content":{"application/json":{"schema":{"$ref":"#/components/schemas/menu"}}}},"500":{"description":"other server error"}}}},"/order/{userId}/recent":{"get":{"description":"Use to get all recent orders of a user","parameters":[{"in":"path","name":"userId"}],"tags":["order"],"responses":{"200":{"description":"ok","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/order"}}}}},"500":{"description":"other server error"}}}},"/order/{orderId}":{"get":{"description":"Use to get a singular order by id","parameters":[{"in":"path","name":"orderId"}],"tags":["order"],"responses":{"200":{"description":"ok","content":{"application/json":{"schema":{"$ref":"#/components/schemas/order"}}}},"500":{"description":"other server error"}}},"delete":{"description":"delete an existing order","parameters":[{"in":"path","name":"orderId"}],"tags":["order"],"responses":{"204":{"description":"order was successfully deleted"},"404":{"description":"order not found"},"500":{"description":"other server error"}}}},"/order/{restaurantId}/active":{"get":{"description":"Use to get all active orders for a restaurant","parameters":[{"in":"path","name":"restaurantId"}],"tags":["order"],"responses":{"200":{"description":"ok","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/order"}}}}},"500":{"description":"other server error"}}}},"/order":{"post":{"description":"add a new order","tags":["order"],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/order"}}}},"responses":{"201":{"description":"created","content":{"application/json":{"schema":{"$ref":"#/components/schemas/order"}}}},"400":{"description":"Invalid order"},"500":{"description":"other server error"}}}},"/restaurant/{restaurantId}":{"get":{"description":"Use to get a singular restaurant by id","parameters":[{"in":"path","name":"restaurantId"}],"tags":["restaurant"],"responses":{"200":{"description":"ok","content":{"application/json":{"schema":{"$ref":"#/components/schemas/restaurant"}}}},"404":{"description":"restaurant not found"},"500":{"description":"other server error"}}},"put":{"description":"update an existing restaurant","tags":["restaurant"],"parameters":[{"in":"path","name":"restaurantId"}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/restaurant"}}}},"responses":{"204":{"description":"restaurant was successfully updated","content":{"application/json":{"schema":{"$ref":"#/components/schemas/restaurant"}}}},"404":{"description":"restaurant not found"},"500":{"description":"other server error"}}},"delete":{"description":"delete an existing restaurant","parameters":[{"in":"path","name":"restaurantId"}],"tags":["restaurant"],"responses":{"204":{"description":"restaurant was successfully deleted"},"404":{"description":"restaurant not found"},"500":{"description":"other server error"}}}},"/restaurant/get/all":{"get":{"description":"Use to get all restaurants","tags":["restaurant"],"responses":{"200":{"description":"ok","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/restaurant"}}}}},"500":{"description":"other server error"}}}},"/restaurant":{"post":{"description":"add a new restaurant","tags":["restaurant"],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/restaurant"}}}},"responses":{"201":{"description":"created","content":{"application/json":{"schema":{"$ref":"#/components/schemas/restaurant"}}}},"500":{"description":"other server error"}}}},"/user/login":{"post":{"description":"login","tags":["user"],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/userlogin"}}}},"responses":{"200":{"description":"ok","content":{"application/json":{"schema":{"$ref":"#/components/schemas/user"}}}},"400":{"description":"incorrect login"},"500":{"description":"other server error"}}}},"/user":{"post":{"description":"create user","tags":["user"],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/createUser"}}}},"responses":{"200":{"description":"ok","content":{"application/json":{"schema":{"$ref":"#/components/schemas/user"}}}},"400":{"description":"could not create user"},"500":{"description":"other server error"}}}},"/user/{username}":{"get":{"description":"Use to get a user","parameters":[{"in":"path","name":"username"}],"tags":["user"],"responses":{"200":{"description":"ok","content":{"application/json":{"schema":{"$ref":"#/components/schemas/user"}}}},"404":{"description":"user not found"},"500":{"description":"other server error"}}}},"/user/{userId}/addresses":{"post":{"description":"Update user addresses","parameters":[{"in":"path","name":"userId"}],"tags":["user"],"requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/address"}}}}},"responses":{"200":{"description":"ok","content":{"application/json":{"schema":{"$ref":"#/components/schemas/user"}}}},"500":{"description":"other server error"}}}}},"tags":[]}